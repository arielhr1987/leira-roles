{"version":3,"file":"inline-edit-user-capabilities.js","mappings":";;;;;;;;;;AAAA,kC;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D,E;;;;;;;;;;;;;ACNA;AACA;AACA;;AAEA;AACgB;AAEhBA,MAAM,CAACC,EAAE,GAAGD,MAAM,CAACC,EAAE,IAAI,CAAC,CAAC;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,UAAUC,CAAC,EAAED,EAAE,EAAE;EAEjBD,MAAM,CAACG,0BAA0B,GAAG;IAEnC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,IAAI,EAAE,SAAAA,CAAA,EAAY;MAEjB,IAAIC,CAAC,GAAG,IAAI;QAAEC,GAAG,GAAGJ,CAAC,CAAC,2BAA2B,CAAC;QAAEK,OAAO,GAAGL,CAAC,CAAC,WAAW,CAAC;MAE5EG,CAAC,CAACG,IAAI,GAAGD,OAAO,CAACE,IAAI,CAAC,eAAe,CAAC,CAACC,SAAS,CAAC,CAAC,CAAC;MACnDL,CAAC,CAACM,IAAI,GAAG,GAAG,GAAGN,CAAC,CAACG,IAAI,GAAG,GAAG;MAE3BD,OAAO,CAACK,EAAE,CAAC,OAAO,EAAE,0BAA0B,EAAE,YAAY;QAC3DV,CAAC,CAAC,IAAI,CAAC,CAACO,IAAI,CAAC,eAAe,EAAE,MAAM,CAAC;QACrCN,0BAA0B,CAACU,IAAI,CAAC,IAAI,CAAC;MACtC,CAAC,CAAC;;MAEF;AACH;AACA;AACA;AACA;MACGP,GAAG,CAACQ,KAAK,CAAC,UAAUC,CAAC,EAAE;QACtB;QACA,IAAIA,CAAC,CAACC,KAAK,KAAK,EAAE,EAAE;UACnB,OAAOb,0BAA0B,CAACc,MAAM,CAAC,CAAC;QAC3C;MACD,CAAC,CAAC;;MAEF;AACH;AACA;MACGf,CAAC,CAAC,SAAS,EAAEI,GAAG,CAAC,CAACY,KAAK,CAAC,YAAY;QACnC,OAAOf,0BAA0B,CAACc,MAAM,CAAC,CAAC;MAC3C,CAAC,CAAC;;MAEF;AACH;AACA;MACGf,CAAC,CAAC,OAAO,EAAEI,GAAG,CAAC,CAACY,KAAK,CAAC,YAAY;QACjC,OAAOf,0BAA0B,CAACgB,IAAI,CAAC,IAAI,CAAC;MAC7C,CAAC,CAAC;;MAEF;AACH;AACA;MACGjB,CAAC,CAAC,eAAe,EAAEI,GAAG,CAAC,CAACc,OAAO,CAAC,UAAUL,CAAC,EAAE;QAC5C;QACA,IAAIA,CAAC,CAACC,KAAK,KAAK,EAAE,IAAId,CAAC,CAAC,IAAI,CAAC,CAACmB,IAAI,CAAC,MAAM,CAAC,KAAK,2BAA2B,EAAE;UAC3E,OAAOlB,0BAA0B,CAACgB,IAAI,CAAC,IAAI,CAAC;QAC7C;MACD,CAAC,CAAC;;MAEF;AACH;AACA;MACGjB,CAAC,CAAC,oCAAoC,CAAC,CAACoB,SAAS,CAAC,YAAY;QAC7DjB,CAAC,CAACY,MAAM,CAAC,CAAC;MACX,CAAC,CAAC;;MAEF;AACH;AACA;MACGf,CAAC,CAAC,sCAAsC,EAAEI,GAAG,CAAC,CAACM,EAAE,CAAC,QAAQ,EAAE,YAAY;QACvE,IAAIW,EAAE,GAAGrB,CAAC,CAAC,IAAI,CAAC;QAChB,IAAIsB,GAAG,GAAGD,EAAE,CAACE,OAAO,CAAC,kBAAkB,CAAC,CAACC,IAAI,CAAC,mCAAmC,CAAC,CAACC,GAAG,CAACJ,EAAE,CAAC;QAC1FC,GAAG,CAACH,IAAI,CAAC,SAAS,EAAEE,EAAE,CAACK,EAAE,CAAC,UAAU,CAAC,CAAC;MACvC,CAAC,CAAC;;MAEF;AACH;AACA;MACG1B,CAAC,CAAC,yCAAyC,EAAEI,GAAG,CAAC,CAACM,EAAE,CAAC,aAAa,EAAE,UAAUG,CAAC,EAAE;QAChF,IAAIc,KAAK,GAAG3B,CAAC,CAAC,IAAI,CAAC;QACnB,IAAI4B,MAAM,GAAGD,KAAK,CAACE,GAAG,CAAC,CAAC;QACxB,IAAIC,SAAS,GAAGH,KAAK,CAACJ,OAAO,CAAC,kBAAkB,CAAC,CAACC,IAAI,CAAC,yBAAyB,CAAC;QACjF;QACAxB,CAAC,CAAC,SAAS,EAAE8B,SAAS,CAAC,CAACC,QAAQ,CAAC,QAAQ,CAAC;QAC1CD,SAAS,CAACN,IAAI,CAAC,yBAAyB,CAAC,CAACQ,IAAI,CAAC,UAAUC,KAAK,EAAEC,IAAI,EAAE;UACrE,IAAIC,MAAM,GAAG,IAAI;UACjB,IAAIP,MAAM,CAACQ,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;YACzBD,MAAM,GAAG,IAAI;UACd,CAAC,MAAM;YACNA,MAAM,GAAGnC,CAAC,CAACkC,IAAI,CAAC,CAACG,IAAI,CAAC,CAAC,CAACC,OAAO,CAACV,MAAM,CAAC,KAAK,CAAC,CAAC;UAC/C;UACA5B,CAAC,CAAC,IAAI,CAAC,CAACuC,WAAW,CAAC,QAAQ,EAAE,CAACJ,MAAM,CAAC;QACvC,CAAC,CAAC;QAEF,IAAI,CAACnC,CAAC,CAAC,sCAAsC,EAAE8B,SAAS,CAAC,CAACU,MAAM,EAAE;UACjE;UACAxC,CAAC,CAAC,SAAS,EAAE8B,SAAS,CAAC,CAACW,WAAW,CAAC,QAAQ,CAAC;QAC9C;MAGD,CAAC,CAAC,CAAC/B,EAAE,CAAC,SAAS,EAAE,UAAUG,CAAC,EAAE;QAC7B;QACA,IAAIA,CAAC,CAACC,KAAK,KAAK,EAAE,EAAE;UACnB,OAAO,KAAK;QACb;MACD,CAAC,CAAC;IACH,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEqB,MAAM,EAAE,SAAAA,CAAUO,EAAE,EAAE;MACrB,IAAIvC,CAAC,GAAG,IAAI;MAEZH,CAAC,CAACG,CAAC,CAACM,IAAI,GAAGN,CAAC,CAACwC,KAAK,CAACD,EAAE,CAAC,CAAC,CAACE,GAAG,CAAC,SAAS,CAAC,KAAK,MAAM,GAAGzC,CAAC,CAACY,MAAM,CAAC,CAAC,GAAGZ,CAAC,CAACQ,IAAI,CAAC+B,EAAE,CAAC;IAC5E,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACE/B,IAAI,EAAE,SAAAA,CAAUkC,EAAE,EAAE;MACnB,IAAIC,OAAO;QAAEC,OAAO;QAAElB,GAAG;QACxB1B,CAAC,GAAG,IAAI;MACTA,CAAC,CAACY,MAAM,CAAC,CAAC;;MAEV;MACA,IAAI,OAAQ8B,EAAG,KAAK,QAAQ,EAAE;QAC7BA,EAAE,GAAG1C,CAAC,CAACwC,KAAK,CAACE,EAAE,CAAC;MACjB;MAEAC,OAAO,GAAG9C,CAAC,CAAC,2BAA2B,CAAC,CAACgD,KAAK,CAAC,IAAI,CAAC,EAAED,OAAO,GAAG/C,CAAC,CAAC,uBAAuB,GAAG6C,EAAE,CAAC;MAC/F7C,CAAC,CAAC,IAAI,EAAE8C,OAAO,CAAC,CAACvC,IAAI,CAAC,SAAS,EAAEP,CAAC,CAAC,wBAAwB,EAAE,oCAAoC,CAAC,CAACwC,MAAM,CAAC;MAE1GxC,CAAC,CAACG,CAAC,CAACM,IAAI,GAAGoC,EAAE,CAAC,CAACI,IAAI,CAAC,CAAC,CAACC,KAAK,CAACJ,OAAO,CAAC,CAACI,KAAK,CAAC,0BAA0B,CAAC;MAEtElD,CAAC,CAAC,OAAO,EAAE+C,OAAO,CAAC,CAACf,IAAI,CAAC,UAAUC,KAAK,EAAEkB,KAAK,EAAE;QAChDA,KAAK,GAAGnD,CAAC,CAACmD,KAAK,CAAC;QAChB,IAAIC,IAAI,GAAGD,KAAK,CAAC5C,IAAI,CAAC,OAAO,CAAC;QAC9B4C,KAAK,GAAGA,KAAK,CAACd,IAAI,CAAC,CAAC;QAEpB,IAAIe,IAAI,KAAK,cAAc,EAAE;UAC5B;UACA,IAAItB,SAAS,GAAG9B,CAAC,CAAC,4BAA4B,EAAE8C,OAAO,CAAC;UACxD,IAAIO,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACJ,KAAK,CAAC;UAE5BnD,CAAC,CAACgC,IAAI,CAACqB,IAAI,EAAE,UAAUG,UAAU,EAAEL,KAAK,EAAE;YACzC,IAAIM,IAAI,GAAG,2CAA2C;YACtDA,IAAI,IAAI,oDAAoD,GAAGD,UAAU,GAAG,GAAG,IAAIL,KAAK,GAAG,oBAAoB,GAAG,EAAE,CAAC,GAAG,GAAG;YAC3HM,IAAI,IAAI,+BAA+B,GAAGD,UAAU,GAAG,SAAS;YAChE,IAAGE,cAAc,CAACF,UAAU,CAAC,EAAE;cAC9BC,IAAI,IAAI,kEAAkE,GAAGC,cAAc,CAACF,UAAU,CAAC,GAAG,QAAQ;YACnH;YACAC,IAAI,IAAI,UAAU;YAClB3B,SAAS,CAAC6B,MAAM,CAACF,IAAI,CAAC;UACvB,CAAC,CAAC;QAEH,CAAC,MAAM;UACNzD,CAAC,CAAC,cAAc,GAAGoD,IAAI,GAAG,GAAG,EAAEN,OAAO,CAAC,CAACjB,GAAG,CAACsB,KAAK,CAAC;QACnD;MACD,CAAC,CAAC;MAEFnD,CAAC,CAAC8C,OAAO,CAAC,CAACvC,IAAI,CAAC,IAAI,EAAE,OAAO,GAAGsC,EAAE,CAAC,CAACd,QAAQ,CAAC,eAAe,CAAC,CAAC6B,IAAI,CAAC,CAAC;MACpE5D,CAAC,CAAC,SAAS,EAAE8C,OAAO,CAAC,CAACe,EAAE,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC;MAEnC,OAAO,KAAK;IACb,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACE7C,IAAI,EAAE,SAAAA,CAAU4B,EAAE,EAAE;MACnB,IAAIkB,MAAM,EAAEC,MAAM;;MAElB;MACA,IAAI,OAAQnB,EAAG,KAAK,QAAQ,EAAE;QAC7BA,EAAE,GAAG,IAAI,CAACF,KAAK,CAACE,EAAE,CAAC;MACpB;MAEA7C,CAAC,CAAC,wBAAwB,CAAC,CAAC+B,QAAQ,CAAC,WAAW,CAAC;MAEjDgC,MAAM,GAAG;QACRE,MAAM,EAAE;MACT,CAAC;MAEDD,MAAM,GAAGhE,CAAC,CAAC,QAAQ,GAAG6C,EAAE,CAAC,CAACrB,IAAI,CAAC,QAAQ,CAAC,CAAC0C,SAAS,CAAC,CAAC;MACpDH,MAAM,GAAGC,MAAM,GAAG,GAAG,GAAGhE,CAAC,CAACmE,KAAK,CAACJ,MAAM,CAAC;;MAEvC;MACA/D,CAAC,CAACoE,IAAI,CAACC,OAAO,EAAEN,MAAM;MACrB;AACJ;AACA;AACA;AACA;AACA;AACA;MACI,UAAUO,CAAC,EAAE;QACZ,IAAIlE,GAAG;UAAEmE,MAAM;UAAEC,YAAY;UAC5BC,YAAY,GAAGzE,CAAC,CAAC,QAAQ,GAAG6C,EAAE,GAAG,kCAAkC,CAAC;UACpE6B,MAAM,GAAGD,YAAY,CAACjD,IAAI,CAAC,QAAQ,CAAC;QAErCxB,CAAC,CAAC,wBAAwB,CAAC,CAACyC,WAAW,CAAC,WAAW,CAAC;QAEpD,IAAI6B,CAAC,EAAE;UACN,IAAI,CAAC,CAAC,KAAKA,CAAC,CAAChC,OAAO,CAAC,KAAK,CAAC,EAAE;YAC5BtC,CAAC,CAACC,0BAA0B,CAACQ,IAAI,GAAGoC,EAAE,CAAC,CAAC8B,QAAQ,CAAC,WAAW,CAAC,CAACC,OAAO,CAAC,CAAC,CAACC,MAAM,CAAC,CAAC;YAChFN,MAAM,GAAGvE,CAAC,CAACsE,CAAC,CAAC,CAAC/D,IAAI,CAAC,IAAI,CAAC;YAExBP,CAAC,CAAC,QAAQ,GAAG6C,EAAE,CAAC,CAACiC,MAAM,CAACR,CAAC,CAAC,CAACO,MAAM,CAAC,CAAC;YAEnC,IAAIN,MAAM,EAAE;cACXC,YAAY,GAAGD,MAAM,CAACQ,OAAO,CAAC9E,0BAA0B,CAACK,IAAI,GAAG,GAAG,EAAE,EAAE,CAAC;cACxEF,GAAG,GAAGJ,CAAC,CAAC,GAAG,GAAGuE,MAAM,CAAC;YACtB,CAAC,MAAM;cACNC,YAAY,GAAG3B,EAAE;cACjBzC,GAAG,GAAGJ,CAAC,CAACC,0BAA0B,CAACQ,IAAI,GAAGoC,EAAE,CAAC;YAC9C;YAEAzC,GAAG,CAAC6C,IAAI,CAAC,CAAC,CAAC+B,MAAM,CAAC,GAAG,EAAE,YAAY;cAClC;cACA5E,GAAG,CAACoB,IAAI,CAAC,0BAA0B,CAAC,CAClCjB,IAAI,CAAC,eAAe,EAAE,OAAO,CAAC,CAC9BuD,KAAK,CAAC,CAAC;cACT/D,EAAE,CAACkF,IAAI,CAACC,KAAK,CAACxB,cAAc,CAACyB,eAAe,CAAC;YAC9C,CAAC,CAAC;UAEH,CAAC,MAAM;YACNV,YAAY,CAAChC,WAAW,CAAC,QAAQ,CAAC;YAClCiC,MAAM,CAACjB,IAAI,CAACa,CAAC,CAAC;YACd;AACP;AACA;AACA;YACOvE,EAAE,CAACkF,IAAI,CAACC,KAAK,CAACR,MAAM,CAACrC,IAAI,CAAC,CAAC,CAAC;UAC7B;QACD,CAAC,MAAM;UACNoC,YAAY,CAAChC,WAAW,CAAC,QAAQ,CAAC;UAClCiC,MAAM,CAACjB,IAAI,CAACC,cAAc,CAAC0B,eAAe,CAAC;UAC3CrF,EAAE,CAACkF,IAAI,CAACC,KAAK,CAACxB,cAAc,CAAC0B,eAAe,CAAC;QAC9C;MACD,CACD,CAAC;;MAED;MACA,OAAO,KAAK;IACb,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACErE,MAAM,EAAE,SAAAA,CAAA,EAAY;MACnB,IAAI8B,EAAE,GAAG7C,CAAC,CAAC,gCAAgC,CAAC,CAACO,IAAI,CAAC,IAAI,CAAC;MAEvD,IAAIsC,EAAE,EAAE;QACP7C,CAAC,CAAC,wBAAwB,CAAC,CAACyC,WAAW,CAAC,WAAW,CAAC;QACpDzC,CAAC,CAAC,GAAG,GAAG6C,EAAE,CAAC,CAAC8B,QAAQ,CAAC,WAAW,CAAC,CAACC,OAAO,CAAC,CAAC,CAACC,MAAM,CAAC,CAAC;QACpDhC,EAAE,GAAGA,EAAE,CAACrC,SAAS,CAACqC,EAAE,CAACwC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;;QAE1C;QACArF,CAAC,CAAC,IAAI,CAACS,IAAI,GAAGoC,EAAE,CAAC,CAACe,IAAI,CAAC,CAAC,CAACpC,IAAI,CAAC,0BAA0B,CAAC,CACvDjB,IAAI,CAAC,eAAe,EAAE,OAAO,CAAC,CAC9BuD,KAAK,CAAC,CAAC;MACV;IACD,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEnB,KAAK,EAAE,SAAAA,CAAU2C,CAAC,EAAE;MACnB,IAAIzC,EAAE,GAAGyC,CAAC,CAACC,OAAO,KAAK,IAAI,GAAGD,CAAC,CAACzC,EAAE,GAAG7C,CAAC,CAACsF,CAAC,CAAC,CAAC/D,OAAO,CAAC,IAAI,CAAC,CAAChB,IAAI,CAAC,IAAI,CAAC;QAAEiF,KAAK,GAAG3C,EAAE,CAAC4C,KAAK,CAAC,GAAG,CAAC;MAEzF,OAAOD,KAAK,CAACA,KAAK,CAAChD,MAAM,GAAG,CAAC,CAAC;IAC/B;EACD,CAAC;EAEDxC,CAAC,CAAC0F,QAAQ,CAAC,CAACC,KAAK,CAAC,YAAY;IAC7B1F,0BAA0B,CAACC,IAAI,CAAC,CAAC;EAClC,CAAC,CAAC;AAEH,CAAC,EAAE0F,MAAM,EAAE9F,MAAM,CAACC,EAAE,CAAC,C","sources":["webpack://leira-roles/external window \"jQuery\"","webpack://leira-roles/webpack/bootstrap","webpack://leira-roles/webpack/runtime/compat get default export","webpack://leira-roles/webpack/runtime/define property getters","webpack://leira-roles/webpack/runtime/hasOwnProperty shorthand","webpack://leira-roles/webpack/runtime/make namespace object","webpack://leira-roles/./src/inline-edit-user-capabilities.js"],"sourcesContent":["module.exports = window[\"jQuery\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * This file is used on the term overview page to power quick-editing terms.\n */\n\n/* global leiraRolesL10n, ajaxurl, inlineEditUserCapabilities */\nimport 'jquery';\n\nwindow.wp = window.wp || {};\n/**\n * Consists of functions relevant to the inline role editor.\n *\n * @namespace inlineEditUserCapabilities\n *\n * @property {string} type The type of inline edit we are currently on.\n * @property {string} what The type property with a hash prefixed and a dash suffixed.\n */\n(function ($, wp) {\n\n\twindow.inlineEditUserCapabilities = {\n\n\t\t/**\n\t\t * Initializes the inline role editor by adding event handlers to be able to quick edit.\n\t\t *\n\t\t * @since 2.7.0\n\t\t *\n\t\t * @this inlineEditUserCapabilities\n\t\t * @memberof inlineEditUserCapabilities\n\t\t * @returns {void}\n\t\t */\n\t\tinit: function () {\n\n\t\t\tvar t = this, row = $('#inline-edit-capabilities'), theList = $('#the-list');\n\n\t\t\tt.type = theList.attr('data-wp-lists').substring(5);\n\t\t\tt.what = '#' + t.type + '-';\n\n\t\t\ttheList.on('click', '.editinline_capabilities', function () {\n\t\t\t\t$(this).attr('aria-expanded', 'true');\n\t\t\t\tinlineEditUserCapabilities.edit(this);\n\t\t\t});\n\n\t\t\t/**\n\t\t\t * Cancels inline editing when pressing escape inside the inline editor.\n\t\t\t *\n\t\t\t * @param {Object} e The keyup event that has been triggered.\n\t\t\t */\n\t\t\trow.keyup(function (e) {\n\t\t\t\t// 27 = [escape]\n\t\t\t\tif (e.which === 27) {\n\t\t\t\t\treturn inlineEditUserCapabilities.revert();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t/**\n\t\t\t * Cancels inline editing when clicking the cancel button.\n\t\t\t */\n\t\t\t$('.cancel', row).click(function () {\n\t\t\t\treturn inlineEditUserCapabilities.revert();\n\t\t\t});\n\n\t\t\t/**\n\t\t\t * Saves the inline edits when clicking the save button.\n\t\t\t */\n\t\t\t$('.save', row).click(function () {\n\t\t\t\treturn inlineEditUserCapabilities.save(this);\n\t\t\t});\n\n\t\t\t/**\n\t\t\t * Saves the inline edits when pressing enter inside the inline editor.\n\t\t\t */\n\t\t\t$('input, select', row).keydown(function (e) {\n\t\t\t\t// 13 = [enter]\n\t\t\t\tif (e.which === 13 && $(this).prop('name') !== 'capabilities_search_input') {\n\t\t\t\t\treturn inlineEditUserCapabilities.save(this);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t/**\n\t\t\t * Saves the inline edits on submitting the inline edit form.\n\t\t\t */\n\t\t\t$('#posts-filter input[type=\"submit\"]').mousedown(function () {\n\t\t\t\tt.revert();\n\t\t\t});\n\n\t\t\t/**\n\t\t\t * Handle check all capabilities\n\t\t\t */\n\t\t\t$(':checkbox.cb-capabilities-select-all', row).on('change', function () {\n\t\t\t\tvar cb = $(this);\n\t\t\t\tvar cbs = cb.parents('.input-text-wrap').find('.capabilities-container :checkbox').not(cb);\n\t\t\t\tcbs.prop('checked', cb.is(':checked'));\n\t\t\t});\n\n\t\t\t/**\n\t\t\t * Events to search for capabilities in quick edit mode\n\t\t\t */\n\t\t\t$('input[name=\"capabilities_search_input\"]', row).on('keyup input', function (e) {\n\t\t\t\tvar input = $(this);\n\t\t\t\tvar search = input.val();\n\t\t\t\tvar container = input.parents('.input-text-wrap').find('.capabilities-container');\n\t\t\t\t//remove not found image\n\t\t\t\t$('.notice', container).addClass('hidden');\n\t\t\t\tcontainer.find('> label.capability-item').each(function (index, item) {\n\t\t\t\t\tvar toggle = true;\n\t\t\t\t\tif (search.trim() === '') {\n\t\t\t\t\t\ttoggle = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttoggle = $(item).text().indexOf(search) !== -1;\n\t\t\t\t\t}\n\t\t\t\t\t$(this).toggleClass('hidden', !toggle);\n\t\t\t\t});\n\n\t\t\t\tif (!$('> label.capability-item:not(.hidden)', container).length) {\n\t\t\t\t\t//show not found text\n\t\t\t\t\t$('.notice', container).removeClass('hidden');\n\t\t\t\t}\n\n\n\t\t\t}).on('keydown', function (e) {\n\t\t\t\t// 13 = [enter]\n\t\t\t\tif (e.which === 13) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Toggles the quick edit based on if it is currently shown or hidden.\n\t\t *\n\t\t * @since 2.7.0\n\t\t *\n\t\t * @this inlineEditUserCapabilities\n\t\t * @memberof inlineEditUserCapabilities\n\t\t *\n\t\t * @param {HTMLElement} el An element within the table row or the table row itself that we want to quick edit.\n\t\t * @returns {void}\n\t\t */\n\t\ttoggle: function (el) {\n\t\t\tvar t = this;\n\n\t\t\t$(t.what + t.getId(el)).css('display') === 'none' ? t.revert() : t.edit(el);\n\t\t},\n\n\t\t/**\n\t\t * Shows the quick editor\n\t\t *\n\t\t * @since 2.7.0\n\t\t *\n\t\t * @this inlineEditUserCapabilities\n\t\t * @memberof inlineEditUserCapabilities\n\t\t *\n\t\t * @param {string|HTMLElement} id The ID of the term we want to quick-edit or an element within the table row or the table row itself.\n\t\t * @returns {boolean} Always returns false.\n\t\t */\n\t\tedit: function (id) {\n\t\t\tvar editRow, rowData, val,\n\t\t\t\tt = this;\n\t\t\tt.revert();\n\n\t\t\t// Makes sure we can pass an HTMLElement as the ID.\n\t\t\tif (typeof (id) === 'object') {\n\t\t\t\tid = t.getId(id);\n\t\t\t}\n\n\t\t\teditRow = $('#inline-edit-capabilities').clone(true), rowData = $('#inline_capabilities_' + id);\n\t\t\t$('td', editRow).attr('colspan', $('th:visible, td:visible', '.wp-list-table.widefat:first thead').length);\n\n\t\t\t$(t.what + id).hide().after(editRow).after('<tr class=\"hidden\"></tr>');\n\n\t\t\t$('> div', rowData).each(function (index, value) {\n\t\t\t\tvalue = $(value);\n\t\t\t\tvar name = value.attr('class');\n\t\t\t\tvalue = value.text();\n\n\t\t\t\tif (name === 'capabilities') {\n\t\t\t\t\t//show checkboxes for capabilities\n\t\t\t\t\tvar container = $('div.capabilities-container', editRow);\n\t\t\t\t\tvar json = JSON.parse(value);\n\n\t\t\t\t\t$.each(json, function (capability, value) {\n\t\t\t\t\t\tvar html = '<label class=\"alignleft capability-item\">';\n\t\t\t\t\t\thtml += '<input type=\"checkbox\" name=\"capability[]\" value=\"' + capability + '\"' + (value ? ' checked=\"checked\"' : '') + '>';\n\t\t\t\t\t\thtml += '<span class=\"checkbox-title\">' + capability + '</span>';\n\t\t\t\t\t\tif(leiraRolesL10n[capability]) {\n\t\t\t\t\t\t\thtml += '<i class=\"dashicons dashicons-editor-help leira-tooltip\" title=\"' + leiraRolesL10n[capability] + '\"></i>';\n\t\t\t\t\t\t}\n\t\t\t\t\t\thtml += '</label>';\n\t\t\t\t\t\tcontainer.append(html);\n\t\t\t\t\t});\n\n\t\t\t\t} else {\n\t\t\t\t\t$(':input[name=' + name + ']', editRow).val(value);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$(editRow).attr('id', 'edit-' + id).addClass('inline-editor').show();\n\t\t\t$('.ptitle', editRow).eq(0).focus();\n\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n\t\t * Saves the quick edit data.\n\t\t *\n\t\t * Saves the quick-edit data to the server and replaces the table row with the HTML retrieved from the server.\n\t\t *\n\t\t * @since 2.7.0\n\t\t *\n\t\t * @this inlineEditUserCapabilities\n\t\t * @memberof inlineEditUserCapabilities\n\t\t *\n\t\t * @param {string|HTMLElement} id The ID of the term we want to quick-edit or an element within the table row or the\n\t\t * table row itself.\n\t\t * @returns {boolean} Always returns false.\n\t\t */\n\t\tsave: function (id) {\n\t\t\tvar params, fields;\n\n\t\t\t// Makes sure we can pass an HTMLElement as the ID.\n\t\t\tif (typeof (id) === 'object') {\n\t\t\t\tid = this.getId(id);\n\t\t\t}\n\n\t\t\t$('table.widefat .spinner').addClass('is-active');\n\n\t\t\tparams = {\n\t\t\t\taction: 'leira-roles-quick-edit-user-capabilities',\n\t\t\t};\n\n\t\t\tfields = $('#edit-' + id).find(':input').serialize();\n\t\t\tparams = fields + '&' + $.param(params);\n\n\t\t\t// Do the ajax request to save the data to the server.\n\t\t\t$.post(ajaxurl, params,\n\t\t\t\t/**\n\t\t\t\t * Handles the response from the server\n\t\t\t\t *\n\t\t\t\t * Handles the response from the server, replaces the table row with the response from the server.\n\t\t\t\t *\n\t\t\t\t * @param {string} r The string with which to replace the table row.\n\t\t\t\t */\n\t\t\t\tfunction (r) {\n\t\t\t\t\tvar row, new_id, option_value,\n\t\t\t\t\t\t$errorNotice = $('#edit-' + id + ' .inline-edit-save .notice-error'),\n\t\t\t\t\t\t$error = $errorNotice.find('.error');\n\n\t\t\t\t\t$('table.widefat .spinner').removeClass('is-active');\n\n\t\t\t\t\tif (r) {\n\t\t\t\t\t\tif (-1 !== r.indexOf('<tr')) {\n\t\t\t\t\t\t\t$(inlineEditUserCapabilities.what + id).siblings('tr.hidden').addBack().remove();\n\t\t\t\t\t\t\tnew_id = $(r).attr('id');\n\n\t\t\t\t\t\t\t$('#edit-' + id).before(r).remove();\n\n\t\t\t\t\t\t\tif (new_id) {\n\t\t\t\t\t\t\t\toption_value = new_id.replace(inlineEditUserCapabilities.type + '-', '');\n\t\t\t\t\t\t\t\trow = $('#' + new_id);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\toption_value = id;\n\t\t\t\t\t\t\t\trow = $(inlineEditUserCapabilities.what + id);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\trow.hide().fadeIn(400, function () {\n\t\t\t\t\t\t\t\t// Move focus back to the Quick Edit button.\n\t\t\t\t\t\t\t\trow.find('.editinline_capabilities')\n\t\t\t\t\t\t\t\t\t.attr('aria-expanded', 'false')\n\t\t\t\t\t\t\t\t\t.focus();\n\t\t\t\t\t\t\t\twp.a11y.speak(leiraRolesL10n.inlineEditSaved);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$errorNotice.removeClass('hidden');\n\t\t\t\t\t\t\t$error.html(r);\n\t\t\t\t\t\t\t/*\n\t\t\t\t\t\t\t * Some error strings may contain HTML entities (e.g. `&#8220`),\n\t\t\t\t\t\t\t * let's use the HTML element's text.\n\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\twp.a11y.speak($error.text());\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$errorNotice.removeClass('hidden');\n\t\t\t\t\t\t$error.html(leiraRolesL10n.inlineEditError);\n\t\t\t\t\t\twp.a11y.speak(leiraRolesL10n.inlineEditError);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\n\t\t\t// Prevent submitting the form when pressing Enter on a focused field.\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n\t\t * Closes the quick edit form.\n\t\t *\n\t\t * @since 2.7.0\n\t\t *\n\t\t * @this inlineEditUserCapabilities\n\t\t * @memberof inlineEditUserCapabilities\n\t\t * @returns {void}\n\t\t */\n\t\trevert: function () {\n\t\t\tvar id = $('table.widefat tr.inline-editor').attr('id');\n\n\t\t\tif (id) {\n\t\t\t\t$('table.widefat .spinner').removeClass('is-active');\n\t\t\t\t$('#' + id).siblings('tr.hidden').addBack().remove();\n\t\t\t\tid = id.substring(id.lastIndexOf('-') + 1);\n\n\t\t\t\t// Show the role row and move focus back to the Quick Edit button.\n\t\t\t\t$(this.what + id).show().find('.editinline_capabilities')\n\t\t\t\t\t.attr('aria-expanded', 'false')\n\t\t\t\t\t.focus();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Retrieves the ID of the term of the element inside the table row.\n\t\t *\n\t\t * @since 2.7.0\n\t\t *\n\t\t * @memberof inlineEditUserCapabilities\n\t\t *\n\t\t * @param {HTMLElement} o An element within the table row or the table row itself.\n\t\t * @returns {string} The ID of the term based on the element.\n\t\t */\n\t\tgetId: function (o) {\n\t\t\tvar id = o.tagName === 'TR' ? o.id : $(o).parents('tr').attr('id'), parts = id.split('-');\n\n\t\t\treturn parts[parts.length - 1];\n\t\t},\n\t};\n\n\t$(document).ready(function () {\n\t\tinlineEditUserCapabilities.init();\n\t});\n\n})(jQuery, window.wp);\n"],"names":["window","wp","$","inlineEditUserCapabilities","init","t","row","theList","type","attr","substring","what","on","edit","keyup","e","which","revert","click","save","keydown","prop","mousedown","cb","cbs","parents","find","not","is","input","search","val","container","addClass","each","index","item","toggle","trim","text","indexOf","toggleClass","length","removeClass","el","getId","css","id","editRow","rowData","clone","hide","after","value","name","json","JSON","parse","capability","html","leiraRolesL10n","append","show","eq","focus","params","fields","action","serialize","param","post","ajaxurl","r","new_id","option_value","$errorNotice","$error","siblings","addBack","remove","before","replace","fadeIn","a11y","speak","inlineEditSaved","inlineEditError","lastIndexOf","o","tagName","parts","split","document","ready","jQuery"],"sourceRoot":""}