var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,e,b){a instanceof String&&(a=String(a));for(var c=a.length,d=0;d<c;d++){var h=a[d];if(e.call(b,h,d,a))return{i:d,v:h}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,e,b){a!=Array.prototype&&a!=Object.prototype&&(a[e]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,e,b,c){if(e){b=$jscomp.global;a=a.split(".");for(c=0;c<a.length-1;c++){var d=a[c];d in b||(b[d]={});b=b[d]}a=a[a.length-1];c=b[a];e=e(c);e!=c&&null!=e&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:e})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6","es3");window.wp=window.wp||{};inlineEditL10n={error:"Error while saving the changes.",saved:"Changes saved."};
(function(a,e){window.inlineEditUserCapabilities={init:function(){var b=this,c=a("#inline-edit-capabilities");b.type=a("#the-list").attr("data-wp-lists").substr(5);b.what="#"+b.type+"-";a("#the-list").on("click",".editinline_capabilities",function(){a(this).attr("aria-expanded","true");inlineEditUserCapabilities.edit(this)});c.keyup(function(a){if(27===a.which)return inlineEditUserCapabilities.revert()});a(".cancel",c).click(function(){return inlineEditUserCapabilities.revert()});a(".save",c).click(function(){return inlineEditUserCapabilities.save(this)});
a("input, select",c).keydown(function(b){if(13===b.which&&"capabilities_search_input"!==a(this).prop("name"))return inlineEditUserCapabilities.save(this)});a('#posts-filter input[type="submit"]').mousedown(function(){b.revert()});a(":checkbox.cb-capabilities-select-all",c).on("change",function(){var b=a(this);b.parents(".input-text-wrap").find(".capabilities-container :checkbox").not(b).prop("checked",b.is(":checked"))});a('input[name="capabilities_search_input"]',c).on("keyup input",function(b){b=
a(this);var c=b.val();b=b.parents(".input-text-wrap").find(".capabilities-container");a(".notice",b).addClass("hidden");b.find("> label.capability-item").each(function(b,d){b=""===c.trim()?!0:-1!==a(d).text().indexOf(c);a(this).toggleClass("hidden",!b)});a("> label.capability-item:not(.hidden)",b).length||a(".notice",b).removeClass("hidden")}).on("keydown",function(a){if(13===a.which)return!1})},toggle:function(b){"none"===a(this.what+this.getId(b)).css("display")?this.revert():this.edit(b)},edit:function(b){this.revert();
"object"===typeof b&&(b=this.getId(b));var c=a("#inline-edit-capabilities").clone(!0);var d=a("#inline_capabilities_"+b);a("td",c).attr("colspan",a("th:visible, td:visible",".wp-list-table.widefat:first thead").length);a(this.what+b).hide().after(c).after('<tr class="hidden"></tr>');a("> div",d).each(function(b,d){d=a(d);b=d.attr("class");d=d.text();if("capabilities"===b){var e=a("div.capabilities-container",c);d=JSON.parse(d);a.each(d,function(a,b){e.append('<label class="alignleft capability-item" title=""><input type="checkbox" name="capability[]" value="'+
a+'"'+(b?' checked="checked"':"")+'><span class="checkbox-title">'+a+"</span></label>")})}else a(":input[name="+b+"]",c).val(d)});a(c).attr("id","edit-"+b).addClass("inline-editor").show();a(".ptitle",c).eq(0).focus();return!1},save:function(b){"object"===typeof b&&(b=this.getId(b));a("table.widefat .spinner").addClass("is-active");var c={action:"leira-roles-quick-edit-user-capabilities"};c=a("#edit-"+b).find(":input").serialize()+"&"+a.param(c);a.post(ajaxurl,c,function(c){var d=a("#edit-"+b+" .inline-edit-save .notice-error");
var f=d.find(".error");a("table.widefat .spinner").removeClass("is-active");if(c)if(-1!==c.indexOf("<tr")){a(inlineEditUserCapabilities.what+b).siblings("tr.hidden").addBack().remove();d=a(c).attr("id");a("#edit-"+b).before(c).remove();if(d){d.replace(inlineEditUserCapabilities.type+"-","");var g=a("#"+d)}else g=a(inlineEditUserCapabilities.what+b);g.hide().fadeIn(400,function(){g.find(".editinline_capabilities").attr("aria-expanded","false").focus();e.a11y.speak(inlineEditL10n.saved)})}else d.removeClass("hidden"),
f.html(c),e.a11y.speak(f.text());else d.removeClass("hidden"),f.html(inlineEditL10n.error),e.a11y.speak(inlineEditL10n.error)});return!1},revert:function(){var b=a("table.widefat tr.inline-editor").attr("id");b&&(a("table.widefat .spinner").removeClass("is-active"),a("#"+b).siblings("tr.hidden").addBack().remove(),b=b.substr(b.lastIndexOf("-")+1),a(this.what+b).show().find(".editinline_capabilities").attr("aria-expanded","false").focus())},getId:function(b){b=("TR"===b.tagName?b.id:a(b).parents("tr").attr("id")).split("-");
return b[b.length-1]}};a(document).ready(function(){inlineEditUserCapabilities.init()})})(jQuery,window.wp);
